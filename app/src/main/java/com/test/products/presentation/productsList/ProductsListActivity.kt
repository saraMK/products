package com.test.products.presentation.productsListimport android.content.Intentimport android.os.Bundleimport android.util.Logimport android.view.View.GONEimport android.view.View.VISIBLEimport android.widget.Toastimport androidx.activity.viewModelsimport androidx.recyclerview.widget.LinearLayoutManagerimport com.test.products.databinding.ActivityMainBindingimport com.test.products.common.ActivityStateimport com.test.products.domain.models.ProductModelimport com.test.products.presentation.ProductDetails.ProductDetailsActivityimport com.test.products.presentation.base.BaseActivityimport dagger.hilt.android.AndroidEntryPointimport javax.inject.Inject@AndroidEntryPointclass ProductsListActivity : BaseActivity< ActivityMainBinding>() {    val viewModel by viewModels<ProductListViewModel>()    @Inject    lateinit var adapter_: ProductsAdapter    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        Log.d("ddhhdhdhdhdh", "$viewModel")        viewModel.getProducts()        viewModel.state.observe(this) {                when (it) {                    is ActivityState.Success<List<ProductModel>?> -> {                        binding.loader.bar.visibility = GONE                        setListOfProducts(it.data)                    }                    is ActivityState.Error -> {                        binding.loader.bar.visibility = GONE                        Toast.makeText(this, it.message, Toast.LENGTH_LONG).show()                    }                    is ActivityState.Loading ->                        binding.loader.bar.visibility = VISIBLE                }        }    }    private fun setListOfProducts(data: List<ProductModel>?) {        adapter_.list.addAll(data ?: mutableListOf())        binding.productList.apply {            layoutManager = LinearLayoutManager(this@ProductsListActivity)            adapter = adapter_        }        adapter_.action = object : ProductsAdapter.ProductsAction {            override fun onProductClick(model: ProductModel) {                startActivity(                    Intent(                        this@ProductsListActivity,                        ProductDetailsActivity::class.java                    ).putExtra("model", model)                )            }        }    }    override fun setBindingView(): ActivityMainBinding {        return ActivityMainBinding.inflate(layoutInflater)    }}